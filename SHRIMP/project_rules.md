# 틀린그림찾기 웹앱 개발 가이드

## 개요
Supabase를 활용한, Google ID로 로그인하는 틀린그림찾기 웹 애플리케이션입니다.

## 중요 지침

### 개발 원칙
- 틀린 부분 탐지는 사전 처리 방식을 사용하여 미리 좌표를 계산하고 저장
- 모든 이미지와 좌표 데이터는 Supabase에 저장
- 반응형 디자인으로 모바일 및 데스크톱 모두 지원

### 작업 방법
- Shrimp Task Manager를 사용하여 작업 관리
- 파일 편집 시 edit_file_lines 사용할 때 항상 부근 내용 확인
- 작업 전 항상 이 문서 참조
- Context7을 사용하여 Supabase, Google OAuth 등 필요한 기술 문서 참조
- 라이브러리 문서가 필요할 때 resolve-library-id와 get-library-docs 도구를 사용하여 최신 정보 활용

### 데이터 구조
- 이미지 세트: id, title, description, original_image_url, modified_image_url, difficulty
- 틀린 부분: id, image_set_id, x_coord, y_coord, radius
- 사용자 진행: user_id, image_set_id, completed, score, time_spent

## 기술 스택
- Frontend: HTML, CSS, JavaScript
- Backend: Supabase (인증, 데이터베이스, 스토리지)
- 인증: Google OAuth

## 개발 계획

1. **프로젝트 기본 설정**
   - Supabase 프로젝트 설정 및 연결
   - Google OAuth 인증 설정
   - 기본 파일 구조 및 페이지 레이아웃 설정

2. **사용자 인증 시스템 구축**
   - Google 로그인 구현
   - 세션 관리 및 사용자 상태 처리
   - 로그인/로그아웃 기능

3. **Supabase 데이터 모델 설계**
   - 이미지 세트 테이블 (원본/수정 이미지 쌍)
   - 틀린 부분 좌표 데이터 테이블
   - 사용자 게임 진행 상황 테이블

4. **이미지 관리 시스템**
   - Supabase Storage 설정
   - 이미지 업로드 및 관리 기능
   - 이미지 페어 연결 및 메타데이터 저장

5. **틀린 부분 탐지 및 관리 시스템**
   - 이미지 사전 처리 도구 개발 (관리자용)
   - 틀린 부분 좌표 자동 감지 알고리즘 구현
   - 감지된 좌표 데이터 Supabase에 저장 및 관리
   - 좌표 데이터 수동 편집/보정 기능

6. **게임 페이지 UI 개발**
   - 이미지 비교 화면 레이아웃
   - 틀린 부분 클릭 처리
   - 진행률 및 타이머 표시

7. **게임 로직 구현**
   - 저장된 좌표 데이터 활용 틀린 부분 감지
   - 점수 계산 시스템
   - 단계별 난이도 조절

8. **사용자 피드백 및 보상 시스템**
   - 진행 상황 저장
   - 리더보드/랭킹 시스템
   - 게임 완료 후 피드백

9. **최적화 및 테스트**
   - 응답성 최적화
   - 다양한 디바이스/브라우저 테스트
   - 오류 처리 및 예외 상황 대응

10. **배포 및 모니터링**
    - 배포 설정
    - 성능 모니터링
    - 사용자 피드백 수집

11. **차후 업그레이드 계획**
    - **난이도 시스템 강화**: 난이도별 단계 구성, 틀린 부분 수 조절, 제한 시간 설정
    - **힌트 시스템 추가**: 시간 경과 힌트, 힌트 사용 점수 차감, 포인트 구매 시스템
    - **사용자 참여 확대**: 일일 도전 과제, 연속 로그인 보상, 친구 초대 및 멀티플레이어
    - **분석 시스템**: 사용자 플레이 패턴 분석, 이탈 지점 파악, 난이도 통계

이 가이드는 개발 중 참조용으로 사용되며, 작업 진행에 따라 지속적으로 업데이트됩니다. 